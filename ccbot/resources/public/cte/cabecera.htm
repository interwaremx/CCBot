<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html class=" ext-strict" xmlns="http://www.w3.org/1999/xhtml">
<!-- #BeginTemplate "/Templates/Canales Ligeros.dwt" -->

<head>
	<!-- #BeginEditable "doctitle" -->
	<meta http-equiv="CACHE-CONTROL" content="NO-CACHE">
	<meta http-equiv="PRAGMA" content="NO-CACHE">
	<!-- KEON-->
	<script type="text/javascript" src="cabecera_files/versionCss.js"></script>
	<script type="text/javascript" src="cabecera_files/keonCarga.js"></script>
	<link href="cabecera_files/NacarFF1024v02.css" type="text/css" rel="stylesheet">
	<script type="text/javascript" src="cabecera_files/jquery_004.js"></script>
	<script type="text/javascript" src="cabecera_files/jquery.js"></script>
	<script type="text/javascript" src="cabecera_files/jquery_003.js"></script>
	<script type="text/javascript" src="cabecera_files/jquery_002.js"></script>
	<script type="text/javascript" src="cabecera_files/keon.js"></script>
	<script type="text/javascript" src="cabecera_files/keonCalendario.js"></script>
	<script type="text/javascript" src="cabecera_files/ctag.js"></script>
	<title>Buscar</title>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">



	<script type="text/javascript" src="cabecera_files/literales.js"></script>
	<script language="JavaScript">
var locale_Arquitectura = "es_ES";
var localeDefecto_Arquitectura="es_ES";
</script>
	<script language="JavaScript">
var isComunicacionServidorWeb = false;
</script><script type="text/javascript" src="cabecera_files/utils_servidorWeb.js"></script>
	<script language="javascript">
CFGREPORTACWEB='/acweb/ddbbva/newrequest/do_executereport.jsp?__executableName=/'
CFGREPORTACADMIN='/mgmtconsole'
CFGREPORTEXT='.rox'
CFGREPORTUSER=''
CFGREPORTPASSWORD=''
</script>
	<script language="javascript">
</script>
	<script language="JavaScript">
var nombreArquitectura = 'atcl';
</script>

	<script language="JavaScript"> var arrayMascarasMultiidiomaFechas = ['CFG.MASCARA_FECHA_es_ES','Ddd/MM/yyyy','CFG.MASCARA_FECHA_ca_ES','Ddd/MM/yyyy','CFG.MASCARA_FECHA_en_GB','DMM/dd/yyyy',]; var arrayMascarasMultiidiomaNumericas = ['CFG.MASCARA_NUMERICA_es_ES','9#.###,###','CFG.MASCARA_NUMERICA_ca_ES','9#.###,###','CFG.MASCARA_NUMERICA_en_GB','9#,###.###',];</script>
	<script language="JavaScript" src="cabecera_files/mascarasMultiidioma.js"></script>
	<script language="JavaScript"> var arrayIdiomasCooficiales = null;</script>
	<script language="JavaScript">
var VMODAL_CONTP = false;</script>
	<script language="JavaScript">
var claveseguridadSWL = "";</script>
	<script language="JavaScript">
var urlServidorShindig  = "";</script>





	<script type="text/javascript" src="cabecera_files/dojo.js" djconfig="parseOnLoad: true"></script>
	<script language="javascript" type="text/javascript">
if(typeof(parent.isVentanaServOpLigera) != 'undefined' && parent.isVentanaServOpLigera != null && parent.isVentanaServOpLigera != 'null' && parent.isVentanaServOpLigera){
dojo.addOnLoad(function() {
parent.OPL_informarGestionTareas();
});
}
</script>





	<script language="JavaScript">
var CTE_TIMEOUT = 0;
</script>



	<!-- libs Front -->
	<link rel="stylesheet" type="text/css" href="cabecera_files/ext-all.css">
	<script type="text/javascript" src="cabecera_files/ext-base.js"></script>
	<script type="text/javascript" src="cabecera_files/ext-all.js"></script>
	<script type="text/javascript" src="cabecera_files/ext-lang-es.js"></script>

	<!--AJAX-->
	<script type="text/javascript" src="cabecera_files/ajax.js"></script><script type="text/javascript" src="cabecera_files/base64.js"></script>
	<script type="text/javascript" src="cabecera_files/funcionesNS.js"></script>
	<script type="text/javascript" src="cabecera_files/utils.js"></script>
	<script type="text/javascript" src="cabecera_files/mensajeria.js"></script>
	<!-- Otras cosas --->
	<link rel="stylesheet" type="text/css" href="cabecera_files/definicionNacarLigero.css">
	<!--script type="text/javascript" src="/nfmx_es_web_pub/redisenio/script/NFMXescritorio.js"></script-->
	<script type="text/javascript" src="cabecera_files/estilo_obne.js"></script>
	<script type="text/javascript" src="cabecera_files/fx_NFMXVE00151.js"></script>
	<!--WIDGETS-->
	<script type="text/javascript" src="cabecera_files/ext-ncmx.js"></script>
	<link rel="stylesheet" type="text/css" href="cabecera_files/ObNeg.css">
	<script>
	var indiceBusquedaActual=1;
	var constanteBusqueda = new Array(11);
	var textoBusquedaActual = new Array(11);
	var valorBusquedaActual = new Array(11);
	var valorMostrado = new Array(2);
	var CR_Buscado='0010';
	
	var buscoCliente=false;
	var valorTipoSoc="";
	var cveSociedad="";
	valorMostrado[0] = "No hay Cliente Seleccionado"
	valorMostrado[1] = "No hay Gestor Seleccionado"
	constanteBusqueda[0] = "Teclee TDD a buscar";
	constanteBusqueda[1] = "Teclee TDC a buscar";
	constanteBusqueda[2] = "Teclee Cuenta a buscar";
	constanteBusqueda[3] = "Teclee Folio a buscar";
	constanteBusqueda[4] = "Nombre(s)|1er Apellido|2do Apellido";
	constanteBusqueda[5] = "Teclee Razï¿½n Social a buscar";
	constanteBusqueda[6] = "Teclee RFC a buscar";
	constanteBusqueda[7] = "Teclee No Cliente a buscar";
	constanteBusqueda[8] = "Teclee ID a buscar";
	constanteBusqueda[9] = "Teclee CR a buscar";
	constanteBusqueda[10] = "Teclee UG a buscar";
	/*AGREGADO 19/07/2011*/
	/*var dir_base = '../';*/
	var dir_base = '../';	
	for(i=0;i<constanteBusqueda.length;i++)
		textoBusquedaActual[i]	 = constanteBusqueda[i];
		
	Mensaje = function(){
    var msgCt;

    function createBox(t, s){
        return ['<div class="msg">',
                '<div class="x-box-tl"><div class="x-box-tr"><div class="x-box-tc"></div></div></div>',
                '<div class="x-box-ml"><div class="x-box-mr"><div class="x-box-mc"><h3>', t, '</h3>', s, '</div></div></div>',
                '<div class="x-box-bl"><div class="x-box-br"><div class="x-box-bc"></div></div></div>',
                '</div>'].join('');
    }
    return {
		mostrar : function(title, format, time){
		if(!msgCt){
			msgCt = Ext.DomHelper.insertFirst(document.body, {id:'mensajeCabecera'}, true);
			document.getElementById('mensajeCabecera').style.zIndex="300";
		}		
		msgCt.alignTo(document.getElementById('avisoError'), 't-t');
		var s = String.format.apply(String, Array.prototype.slice.call(arguments, 1));
		var m = Ext.DomHelper.append(msgCt, {html:createBox(title, s)}, true);
		if(time)
			m.slideIn('t').pause(time).ghost("t", {remove:true});
		else
			m.slideIn('t').pause(2).ghost("t", {remove:true});
	},
        init : function(){
	    var lb = Ext.get('lib-bar');
            if(lb){
                lb.show();
            }
        }
    };
}();
	function cambiarCriterioBusqueda(indice){

		
		document.getElementById("valorMostrado").style.display="none";
		if(indice!=10){
				document.getElementById("captura0").readOnly=false;
				document.getElementById("Boton").style.cursor = "pointer";
				document.getElementById("Boton").src="/ecinxd_mx_web/nfmx_es_web_pub/imagenes/buscar_3.gif";
				document.getElementById("liga").setAttribute("onClick","validarBusqueda()");
				document.getElementById("Boton").disabled = false;				
			}
		indiceBusquedaActual = indice;
		if(indice==5){
			document.getElementById("segundaCaptura").style.display="block";
			document.getElementById("primerCaptura").style.display="none";
			document.getElementById("tercerCaptura").style.display="none"; 
			document.forms[0].captura1.value = textoBusquedaActual[indiceBusquedaActual-1].split("|")[0];
			document.forms[0].captura1.className=textoBusquedaActual[indiceBusquedaActual-1].split("|")[0]==constanteBusqueda[indiceBusquedaActual-1].split("|")[0]?"italica":"";
			document.forms[0].captura2.value = textoBusquedaActual[indiceBusquedaActual-1].split("|")[1];
			document.forms[0].captura2.className=textoBusquedaActual[indiceBusquedaActual-1].split("|")[1]==constanteBusqueda[indiceBusquedaActual-1].split("|")[1]?"italica":"";
			document.forms[0].captura3.value = textoBusquedaActual[indiceBusquedaActual-1].split("|")[2];
			document.forms[0].captura3.className=textoBusquedaActual[indiceBusquedaActual-1].split("|")[2]==constanteBusqueda[indiceBusquedaActual-1].split("|")[2]?"italica":"";
			document.getElementById("captura1").setAttribute("onKeyUp","validaText(this.id)");
			setTimeout("document.getElementById('captura1').focus()",1000);
			document.getElementById("captura2").setAttribute("onKeyUp","validaText(this.id)");
			document.getElementById("captura3").setAttribute("onKeyUp","validaText(this.id)");

		}else if(indice==6){
			document.getElementById("segundaCaptura").style.display="none";
			document.getElementById("primerCaptura").style.display="none";			
            document.getElementById("tercerCaptura").style.display="block";   
			document.getElementById("captura5").setAttribute("onKeyUp","validaText(this.id)");
			setTimeout("document.getElementById('captura5').focus()",1000);
		
		}else if(indice==7){
			document.getElementById("primerCaptura").style.display="block";
			document.getElementById("segundaCaptura").style.display="none";
            document.getElementById("tercerCaptura").style.display="none";   			
			document.forms[0].captura0.value = textoBusquedaActual[indiceBusquedaActual-1];
			document.forms[0].captura0.className=textoBusquedaActual[indiceBusquedaActual-1]==constanteBusqueda[indiceBusquedaActual-1]?"italica":"";
			document.getElementById("captura0").setAttribute("onKeyUp","validaText(this.id)");
			setTimeout("document.getElementById('captura0').focus()",1000);
			
		}else if(indice==8){
		    document.getElementById("primerCaptura").style.display="block";
			document.getElementById("segundaCaptura").style.display="none";
            document.getElementById("tercerCaptura").style.display="none";   			
			document.forms[0].captura0.value = textoBusquedaActual[indiceBusquedaActual-1];
			document.forms[0].captura0.className=textoBusquedaActual[indiceBusquedaActual-1]==constanteBusqueda[indiceBusquedaActual-1]?"italica":"";
		    document.getElementById("captura0").setAttribute("onKeyUp","validaText(this.id)");
			setTimeout("document.getElementById('captura0').focus()",1000);
			
		}else{
			document.getElementById("primerCaptura").style.display="block";
			document.getElementById("segundaCaptura").style.display="none";
        	document.getElementById("tercerCaptura").style.display="none";   			
			document.forms[0].captura0.value = textoBusquedaActual[indiceBusquedaActual-1];
			document.forms[0].captura0.className=textoBusquedaActual[indiceBusquedaActual-1]==constanteBusqueda[indiceBusquedaActual-1]?"italica":"";
			document.getElementById("captura0").setAttribute("onKeyUp","validaNum(this.id)");
			setTimeout("document.getElementById('captura0').focus()",1000);

		}
		//anexo
	   if(indice>=5 && indice<=9){
	        indiceBusqueda=0;
   	   }else if(indice==10){	       
			indiceBusqueda=2;
			document.getElementById("captura0").value="0010";
			document.getElementById("captura0").readOnly=true;
			if(document.getElementById("captura0").value!="")
			{
				validarBusqueda();
				document.getElementById("Boton").style.cursor = ""
				document.getElementById("Boton").src="/nfmx_es_web_pub/imagenes/buscar_0.gif";
				document.getElementById("liga").setAttribute("onClick","");
				document.getElementById("Boton").disabled = true;
			}
			
		}

	}
	function ocultarCapturas(indice){
		document.getElementById("primerCaptura").style.display="none";
		document.getElementById("segundaCaptura").style.display="none";
		 document.getElementById("tercerCaptura").style.display="none";
		document.getElementById("valorMostrado").style.display="block";
		document.getElementById("valorMostrado").innerHTML=indice==null?valorMostrado[0]:valorMostrado[1];
        //anexo
		if(indice==1)indiceBusqueda=2;
		else indiceBusqueda=0;
		
	}
	function validarTextoBusqueda(indice){
		var input;
		if(indice==null)indice=0;
		eval('input = document.forms[0].captura'+indice+';');

		if(indice>0){
			if(input.className=="italica"&&input.value==constanteBusqueda[indiceBusquedaActual-1].split("|")[indice-1]){
				input.className="";
				input.value="";
			}
		}
		else if(input.className=="italica"&&input.value==constanteBusqueda[indiceBusquedaActual-1]){
			input.className="";
			input.value="";
		}

	}
	function validarTextoBusqueda2(indice){
		var input;
		if(indice==null)indice=0;
		eval('input = document.forms[0].captura'+indice+';');
		if(input.value==""){
			input.className="italica";
			input.value=indice==0?textoBusquedaActual[indiceBusquedaActual-1]:textoBusquedaActual[indiceBusquedaActual-1].split("|")[indice-1];
		}
	}
	
    function validarTextoBusqueda3(indice){
		var input;
		if(indice==null)indice=0;
		if(input.value==""){
			input.className="italica";
			input.value=indice==0?textoBusquedaActual[indiceBusquedaActual-1]:textoBusquedaActual[indiceBusquedaActual-1].split("|")[indice-1];
		}
	}	
	
	function cambiarTamanio(){

            var texSociedad= document.forms[0].CTRL_CVE_SOCIEDAD[document.forms[0].CTRL_CVE_SOCIEDAD.selectedIndex].text;
			var op= document.forms[0].CTRL_CVE_SOCIEDAD[document.forms[0].CTRL_CVE_SOCIEDAD.selectedIndex].value;
			var indiceSelected= document.forms[0].CTRL_CVE_SOCIEDAD.selectedIndex;

			valorTipoSoc=texSociedad;
			cveSociedad=op;
			var longitud=texSociedad.length;
			

			var el = document.getElementById("tercerCaptura");
			var as = el.getElementsByTagName("input");
    		var longReal=parseInt(59)-parseInt(longitud);
			
			for (var i=0; i<as.length; i++) {

				  as[i].focus();
				  if(indiceSelected==1) as[i].setAttribute('maxlength',60); 				  
				  else  as[i].setAttribute('maxlength',longReal); 
				 
			}
	
	}  


function validarBusqueda(evento){
		evento = evento == null?"0X25201002":evento;

		var input = document.forms[0].captura0.value;
		var output = document.forms[0].HD_NFMX_BUSQUEDA_PANTALLA;
		if(indiceBusquedaActual < 10 ){//Clientes
			if(indiceBusquedaActual<3){//TDC y TDD
				if(input.length==16 && validarNumero(input)){
					output.value=indiceBusquedaActual+"ï¿½"+input;
					if(indiceBusquedaActual==1){
					  numeroTarjeta(input);
					}
					buscoCliente=true;
					envioNacar(null,miFuncion,null,true,output.value);
					
				}else{
				   try{
				         Mensaje.mostrar('', 'Debe teclear un valor v&aacute;lido',2);
				   }catch(err){
					alerta('avisoError','Debe teclear un valor v&aacute;lido');
					}
					}
			}else if(indiceBusquedaActual == 3){//Numero de cuenta
				TDD="";
				if((input.length==10 && validarNumero(input))||(input.length==20 && validarNumero(input))){
				   if(input.length==20)
				   {
				      indiceBusquedaActual=0;
				      output.value=indiceBusquedaActual+"ï¿½$|ï¿½"+input;
					  buscoCliente=true;
					  envioNacar(null,miFuncion,null,true,output.value);
				   }
				   else
				   {
					  output.value=indiceBusquedaActual+"ï¿½$|ï¿½"+input;
					  buscoCliente=true;
					  envioNacar(null,miFuncion,null,true,output.value);
					}
				}else{
				   try{
				       Mensaje.mostrar('', 'Debe teclear un valor v&aacute;lido',2);
				       }catch(err){
					    alerta('avisoError','Debe teclear un valor v&aacute;lido');
					 }
					}
			}else if(indiceBusquedaActual==4){// Por Folio
				TDD="";
			   if(input.length==10 && validarNumero(input)){
			        output.value=indiceBusquedaActual+"ï¿½$|ï¿½"+input;
					buscoCliente=true;
					envioNacar(null,miFuncion,null,true,output.value);
					}else
					{
				   try{
				       Mensaje.mostrar('', 'Debe teclear un valor v&aacute;lido',2);
				       }catch(err){
					    alerta('avisoError','Debe teclear un valor v&aacute;lido');
					 }
					}
			}else if(indiceBusquedaActual==5){ //Por Nombre
				TDD="";
				var aux = textoBusquedaActual[indiceBusquedaActual-1].split("|");
				var aux2 = constanteBusqueda[indiceBusquedaActual-1].split("|");
				if((document.forms[0].captura1.value != aux[0] && document.forms[0].captura2.value != aux[1])
			   	||(document.forms[0].captura3.value != aux[2] && document.forms[0].captura2.value != aux[1])){
			   		output.value=indiceBusquedaActual+"ï¿½$|ï¿½";
					output.value+=document.forms[0].captura1.value == aux2[0]?" ":document.forms[0].captura1.value;
					output.value+="ï¿½$|ï¿½"+(document.forms[0].captura2.value == aux2[1]?" ":document.forms[0].captura2.value);
					output.value+="ï¿½$|ï¿½"+(document.forms[0].captura3.value == aux2[2]?" ":document.forms[0].captura3.value);
					buscoCliente=true;
					envioNacar(null,miFuncion,null,true,output.value);
				}
				
				
				
				
				else{
				   try{
				       Mensaje.mostrar('', 'Debe ingresar un nombre de cliente',2);
				       }catch(err){
					    alerta('avisoError','Debe ingresar un nombre de cliente');
					 }
					}
			}else if(indiceBusquedaActual == 6){ //Razon social// R.Z.
				TDD="";
			     input = document.forms[0].captura5.value;
			     var valor= document.forms[0].CTRL_CVE_SOCIEDAD[document.forms[0].CTRL_CVE_SOCIEDAD.selectedIndex].value;  
   			    if(input==""){			     
				   try{
				       Mensaje.mostrar('', 'Debe ingresar un nombre de cliente',2);
				       }catch(err){
					    alerta('avisoError','Debe ingresar un nombre de cliente');
					 }					
				}else if(valor=='0'){			
				    try{
				       Mensaje.mostrar('', 'Falta tipo de sociedad',2);
				       }catch(err){
					    alerta('avisoError','Falta tipo de sociedad');
					 }
				 }else{	
				
					output.value=cveSociedad == "01" ? indiceBusquedaActual+"ï¿½$|ï¿½"+input+"ï¿½$|ï¿½ ï¿½$|ï¿½"+cveSociedad : indiceBusquedaActual+"ï¿½$|ï¿½"+input+"ï¿½$|ï¿½"+valorTipoSoc+"ï¿½$|ï¿½"+cveSociedad;
					buscoCliente=true;
					envioNacar(null,miFuncion,null,true,output.value);
				}
			}else if(indiceBusquedaActual==7) { //RFC
				TDD="";
				if(validarRFC(input)){
					output.value=indiceBusquedaActual+"ï¿½$|ï¿½"+input;
					buscoCliente=true;
					envioNacar(null,miFuncion,null,true,output.value);
				}
				else{
				   try{
				       Mensaje.mostrar('', 'Debe ingresar un RFC',2);
				       }catch(err){
					    alerta('avisoError','Debe ingresar un RFC');
					 }
					}
			}else if(indiceBusquedaActual==8){//numero cliente
				TDD="";
				if(input.length==8){
					output.value=indiceBusquedaActual+"ï¿½$|ï¿½"+input;
					buscoCliente=true;
					envioNacar(null,miFuncion,null,true,output.value);
				}else{
				   try{
				       Mensaje.mostrar('', 'Debe ingresar un cï¿½digo de cliente',2);
				       }catch(err){
					    alerta('avisoError','Debe ingresar un cï¿½digo de cliente');
					 }
					}		
			}else if(indiceBusquedaActual==9){//ID
				TDD="";
				if(input.length==10 && validarNumero(input)){
					output.value=indiceBusquedaActual+"ï¿½$|ï¿½"+input;
					buscoCliente=true;
					envioNacar(null,miFuncion,null,true,output.value);
				}else{
				   try{
				       Mensaje.mostrar('', 'Debe teclear un valor v&aacute;lido',2);
				       }catch(err){
					    alerta('avisoError','Debe teclear un valor v&aacute;lido');
					 }
					}
			
			}else{
				alerta('avisoError','En construcci&oacute;n');
			}			
		}else{//Fin Clientes
			if(indiceBusquedaActual == 10){//CR
				TDD="";
				if(true){ // paraEECC
					document.forms[0].HD_NFMX_BUSQUEDA_PANTALLA.value = input;
					buscoCliente=true;
					envioNacar(null,miFuncion,null,true,output.value);
				}else{
				   try{
				       Mensaje.mostrar('', 'Debe teclear un valor v&aacute;lido',2);
				       }catch(err){
					    alerta('avisoError','Debe teclear un valor v&aacute;lido');
					 }
					}
			}else{//UG
				alerta('avisoError','En construcci&oacute;n');
			}
		}
	}

function buscarCliente(tipo,rfc,homo){
	input = rfc==null?"":rfc;
	input += (homo =="undefined"?"":homo);
	cambiarCriterioBusqueda(7);

	document.forms[0].captura0.value = input;
	document.forms[0].captura0.className="";
	validarBusqueda('0X25201002');
}

function subirDatosCliente(nombre, app,apm,sector,desSector,segmento,desSegmento,rfc,homocve,domicilio,numCliente){
   document.forms[0].HD_NFMX_BUSQUEDA_PANTALLA.value = "10ï¿½$|ï¿½"+nombre+"ï¿½$|ï¿½"+app+"ï¿½$|ï¿½"+apm+"ï¿½$|ï¿½"+sector+"ï¿½$|ï¿½"+desSector+"ï¿½$|ï¿½"+segmento+"ï¿½$|ï¿½"+desSegmento+"ï¿½$|ï¿½"+rfc+"ï¿½$|ï¿½"+homocve+"ï¿½$|ï¿½"+domicilio+"ï¿½$|ï¿½"+numCliente+"ï¿½$|ï¿½";
   	setTargetBusqueda(document.forms[0])
	parent.mostrarBusquedaActual();
	parent.document.getElementById("esperaBusqueda").style.display="block";
    Evento('0X2520100F','NFMXVE04001');
   }
   
    function subirCuentaCleinte(cuenta,numCliente)
 {
    document.forms[0].HD_NFMX_BUSQUEDA_PANTALLA.value = "8ï¿½$|ï¿½"+cuenta+"ï¿½$|ï¿½"+numCliente+"ï¿½$|ï¿½";
    setTargetBusqueda(document.forms[0])
	parent.mostrarBusquedaActual();
	parent.document.getElementById("esperaBusqueda").style.display="block";
    Evento('0X2520100F','NFMXVE04001');
 }

    function activaMDyG(){
	    parent.activa('2','0','0',null,false);
   }

function mover_contrata(){
	mover_contratacion(buscoCliente);
    if(valorMostrado[0] != "No hay Cliente Seleccionado"){ 
	  parent.activa('1','0','0',null,true);
	}
}


function mover_contrataP(){
	mover_contratacionP(buscoCliente);
    if(valorMostrado[0] != "No hay Cliente Seleccionado"){ 
	  parent.activa('0','0','0',null,true);
	}
}



function mover_aclara(){
  mover_aclaraciones();
  parent.activa('1','0','0',null,true);
}

function mover_selec(){
	
	mover_selector();
	if(valorMostrado[0] != "No hay Cliente Seleccionado"){ 
	    parent.activa('1','0','0',null,true);
	}
}


function limpiarObjCliente(){
  window.location.reload();  
} 

function validaText(idCampo) {
    var RegExPattern = /^[\s\w\ï¿½\ï¿½]*$/;
    if(idCampo=="captura1" || idCampo=="captura2" || idCampo=="captura3"){
	RegExPattern = /^[\sa-zA-Z\ï¿½\ï¿½]*$/;
    }
    else if (idCampo=="captura5"){
	RegExPattern = /^[\sa-zA-Z0-9\ï¿½\ï¿½\&\+\,]*$/;
    }
    var lastchart=document.getElementById(idCampo).value;	
	var text="";
	var aux;	
	var i;	
	for(i=0;i<lastchart.length;i++)		
	{
	   RegExPattern.test(lastchart.charAt(i))?aux=lastchart.charAt(i):aux=''
	   text+=aux;	   
	}
	document.getElementById(idCampo).value=text;
}

function validaNum(idCampo) {
    var RegExPattern = /^[\s\d]*$/;
	var lastchart=document.getElementById(idCampo).value;	
	var text="";
	var aux;	
	var i;	
	for(i=0;i<lastchart.length;i++)		
	{
	   RegExPattern.test(lastchart.charAt(i))?aux=lastchart.charAt(i):aux=''
	   text+=aux;	   
	}
	document.getElementById(idCampo).value=text;
}

function arrow(id){
  for(var i=0;i<3;i++){
	document.getElementById("arrow"+i).style.display="block";
	document.getElementById("busquedaMini"+i).style.color="2F6AAB";
  }
  document.getElementById("arrow"+id).style.display="none";
  document.getElementById("busquedaMini"+id).style.color="ffffff";
  
}

function clearArrow(){
  for(var i=0;i<3;i++){
	document.getElementById("arrow"+i).src="/sinecd_mx_web/portal_pub/imagenes/menu/h_arrow_blue.gif"
	document.getElementById("lista"+i).className="";
    document.getElementById("menu"+i).className="ocultar";
  }
}

function limipiarMiniAcc(){
	document.getElementById("miniAccesos").innerHTML=""
}

function onClick(id,mostrar){
  if (id==0){
	limipiarMiniAcc();
	miniAccesos.limpiarLista();
    miniAccesos.cambiarHijos('cliente');
	ocultarCapturas();
  }else if (id==1){	 
	limipiarMiniAcc();
    miniAccesos.cambiarHijos('crug');
	ocultarCapturas(1);
  }
   clearArrow();
   document.getElementById("lista"+mostrar).className="miniBusquedas";
   document.getElementById("menu"+mostrar).className="mostrar";
   arrow(mostrar);
}

function ocultarLista(idLista){
	document.getElementById("lista"+idLista).className="offPrincipal";
	document.getElementById("menu"+idLista).className="ocultar";
}
</script>
	<!-- #EndEditable -->
</head>

<body class="  ext-gecko ext-gecko3" style="overflow: auto;" onload="controlSesion();" bgcolor="#FFFFFF">
	<!-- #BeginEditable "cuerpoventana" -->
	<customform>
		<form name="NFMXVE00151" action="web?flujo=NFMXFL00151258444511149297540" method="POST" target="" ayudarapida="Formulario Nacar"
			onsubmit="javascript:if(!isEnviarFormulario()) return false;">
			<input name="evento" type="hidden">
			<input name="flujo" value="NFMXFL00151258444511149297540" type="hidden">
			<input name="ventana" value="NFMXVE00151202531591317892399" type="hidden">
			<customhidden>
				<input name="HD_NFMX_BUSQUEDA_PANTALLA" value="" type="hidden">
			</customhidden>
			<customhidden>
				<input name="h1" value="" type="hidden">
			</customhidden>
			<customhidden>
				<input name="HD_NFMX_CONTRA" value="" type="hidden">
			</customhidden>
			<div id="cargaBusqueda" class="ocultarCarga"><img src="cabecera_files/procesando_large.gif" style="cursor: pointer;" title="Cancelar Busqueda" href="javascript:void(0)"
					onclick="limpiarObjCliente()"></div>
			<div id="avisoError" style="z-index:300"></div>
			<div id="bodyObNEg" class="bodyObNEg">
				<div class="busquedaPor">
					<table cellpadding="0" cellspacing="0">
						<tbody>
							<tr>
								<td>
									<ul id="lista0" class="miniBusquedas">
										<li><a style="" class="principal" id="busquedaMini0" onclick="onClick(0,0)" title="Accesos por Cliente" href="javascript:void(0)">Cliente</a>
											<img stylex="display: none;" id="arrow0" src="cabecera_files/h_arrow_blue.gif" onclick="onClick(0,0)" border="0">
											<ul id="menu0" class="mostrar">
												<li><a onclick="cambiarCriterioBusqueda(5); ocultarLista(0);" href="javascript:void(0);" title="Nombre">Nombre</a></li>
												<li><a onclick="cambiarCriterioBusqueda(6); ocultarLista(0);" href="javascript:void(0);" title="Razï¿½n Social">Razï¿½n Social</a></li>
												<li><a onclick="cambiarCriterioBusqueda(7); ocultarLista(0);" href="javascript:void(0);" title="RFC">RFC</a></li>
												<li><a onclick="cambiarCriterioBusqueda(8); ocultarLista(0);" href="javascript:void(0);" title="Nï¿½mero de Cliente"># Cliente</a></li>
											</ul>
										</li>
									</ul>
								</td>
								<td class="separador">&nbsp;|&nbsp;</td>
								<td>
									<ul id="lista1" class="">
										<li><a style="" class="principal" id="busquedaMini1" onclick="onClick(0, 1);" title="Accesos por Producto" href="javascript:void(0)">Producto</a>
											<img style="display: block;" id="arrow1" src="cabecera_files/h_arrow_blue.gif" onclick="onClick(0, 1);" border="0">
											<ul id="menu1" class="ocultar">
												<li><a onclick="cambiarCriterioBusqueda(1); ocultarLista(1);" href="javascript:void(0);" title="TDD">TDD</a></li>
												<li><a onclick="cambiarCriterioBusqueda(2); ocultarLista(1);" href="javascript:void(0);" title="TDC">TDC</a></li>
												<li><a onclick="cambiarCriterioBusqueda(3); ocultarLista(1);" href="javascript:void(0);" title="Cuenta">Cuenta</a></li>
												<li><a onclick="cambiarCriterioBusqueda(4); ocultarLista(1);" href="javascript:void(0);" title="Folio">Folio</a></li>
											</ul>
										</li>
									</ul>
								</td>
								<td class="separador">&nbsp;|&nbsp;</td>
								<td>
									<ul id="lista2" class="">
										<li><a style="" class="principal" id="busquedaMini2" onclick="onClick(1,2)" title="Accesos Gestiï¿½n" href="javascript:void(0)">Gestiï¿½n</a>
											<img style="display: block;" id="arrow2" src="cabecera_files/h_arrow_blue.gif" onclick="onClick(1,2)" border="0">
											<ul id="menu2" class="ocultar">
												<li class="hijo"><a onclick="cambiarCriterioBusqueda(10); ocultarLista(2);" href="javascript:void(0);" title="UG">UG</a></li>
											</ul>
										</li>
									</ul>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div id="salir" class="salir">
					<table cellpadding="0" cellspacing="0">
						<tbody>
							<tr>
								<td class="right">
									<a href="javascript:void(0)" onclick="limpiarObjCliente()" title="Borrar">X</a>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div id="valorMostradoDiv" class="valorMostrado">
					<table class="" style="text-align: center;" cellpadding="0" cellspacing="0" width="98%">
						<tbody>
							<tr>
								<td style="height: 27px;">
									<div id="valorMostrado" class="valorM" style="display: block;">No hay Cliente Seleccionado</div>
									<!-- *******************************////////////////////////////////  G E N E R I C A   ////////////////////****************************** -->
									<div style="display: none;" id="primerCaptura">
										<table class="" cellpadding="0" cellspacing="0" width="98%">
											<tbody>
												<tr>
													<td class="txtRight">
														<input id="captura0" name="captura0" size="35" onfocus="validarTextoBusqueda()" onblur="validarTextoBusqueda2()" class="captura0">
													</td>
													<td>
														<a class="txtLeft" onclick="validarBusqueda()" id="liga" href="javascript:void(0)">
															<img id="Boton" title="Buscar" name="Buscar" src="cabecera_files/buscar_3.gif" border="0">
														</a>
													</td>
												</tr>
											</tbody>
										</table>
									</div>
									<!-- *******************************////////////////////////////////  G E N E R I C A   ////////////////////****************************** -->


									<!-- *******************************/////////////////////////////////////  N O M B R E ////////////////////****************************** -->
									<div style="display: none;" id="segundaCaptura">
										<table class="" cellpadding="0" cellspacing="0" width="98%">
											<tbody>
												<tr>
													<td>
														<input id="captura1" name="captura1" size="10" maxlength="20" onfocus="validarTextoBusqueda(1)" onblur="validarTextoBusqueda2(1)"
															class="captura1">
													</td>
													<td>
														<input id="captura2" name="captura2" size="8" maxlength="20" onfocus="validarTextoBusqueda(2)" onblur="validarTextoBusqueda2(2)"
															class="captura2">
													</td>
													<td>
														<input id="captura3" name="captura3" size="8" maxlength="20" onfocus="validarTextoBusqueda(3)" onblur="validarTextoBusqueda2(3)"
															class="captura3">
													</td>
													<td>
														<a class="txtLeft" onclick="validarBusqueda()" id="liga" href="javascript:void(0)">
															<img id="Boton" title="Buscar" name="Buscar" src="cabecera_files/buscar_3.gif" border="0">
														</a>
													</td>
												</tr>
											</tbody>
										</table>
									</div>
									<!-- *******************************/////////////////////////////////////  N O M B R E ////////////////////****************************** -->


									<!-- ////////////////////////////////////////////////////////////  R F C  /////////////////////////////////////////////////// -->
									<div style="display: none;" id="tercerCaptura">
										<table cellpadding="0" cellspacing="0" width="98%">
											<tbody>
												<tr>
													<td width="35%">
														<select id="captura4" name="CTRL_CVE_SOCIEDAD" estatico="false" class="captura4" onchange="if(this.selectedIndex!=0){cambiarTamanio()}">	
                      <option selected="selected" value="0">--Seleccione--</option>
                	  
                	  <option value="00140100">GOBIERNO</option>
<option value="00140200">SA</option>
<option value="00140300">SA DE CV</option>
<option value="00140400">S DE RL</option>
<option value="00140500">S DE RL DE CV</option>
<option value="00140600">SC</option>
<option value="00140700">AC</option>
<option value="00140800">S EN C</option>
<option value="00140900">S EN C POR A</option>
<option value="00141000">IAP</option>
<option value="00141100">SPR DE R</option>
<option value="00141200">S EN NC</option>
<option value="00141300">EXTRANJERO</option>

              		</select>
													</td>
													<td>
														<input onblur="" onfocus="" maxlength="60" size="14" name="captura5" id="captura5" class="captura5">
													</td>
													<td>
														<a class="txtLeft" onclick="validarBusqueda()" id="liga" href="javascript:void(0)">
															<img id="Boton" name="Buscar" title="Buscar" src="cabecera_files/buscar_3.gif" border="0">
														</a>
													</td>
												</tr>
											</tbody>
										</table>
									</div>
									<!-- ////////////////////////////////////////////////////////////  R F C  /////////////////////////////////////////////////// -->
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="miniAccesos">
					<table cellpadding="0" cellspacing="0">
						<tbody>
							<tr id="miniAccesos">
								<td></td>
								<td><a title="Circuito de Contrataciï¿½n" href="javascript:void(0);" onclick="moverContrata();">Contrataciï¿½n</a></td>
								<td class="separador1">&nbsp;|&nbsp;</td>
								<td><a title="Ficha Cliente" href="javascript:void(0);" onclick="mover_fichaEECC();">Ficha Cliente</a></td>
								<td class="separador1">&nbsp;|&nbsp;</td>
								<td><a title="Productos Activos" href="javascript:void(0);" onclick="mover_operar();">Operar</a></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<script type="text/javascript">
	var miniAccesos = new Lista(document.getElementById("miniAccesos"));
	var separador = "&nbsp;|&nbsp;";
	var aux;
	//Inicio Producto - Cliente
	miniAccesos.agregarPadre("cliente",null);
	aux = document.createElement("td");
	miniAccesos.agregarHijo("cliente",aux);
	miniAccesos.agregarHijo("cliente",new Link("Contrataci&oacute;n","moverContrata();","Circuito de Contrataciï¿½n"));
	
	aux = document.createElement("td");
	aux.className="separador1"
	aux.innerHTML=separador;
	miniAccesos.agregarHijo("cliente",aux);
	miniAccesos.agregarHijo("cliente",new Link("Ficha Cliente","mover_fichaEECC();","Ficha Cliente"));

	aux = document.createElement("td");
	aux.className="separador1"
	aux.innerHTML=separador;
	miniAccesos.agregarHijo("cliente",aux);
	miniAccesos.agregarHijo("cliente",new Link("Operar","mover_operar();","Productos Activos"));
	//Inicio CRUG
	miniAccesos.agregarPadre("crug",null);
	//Matriz	
	miniAccesos.agregarHijo("crug",new Link("Matriz","mover_matriz();","Matriz de Fidelizaciï¿½n"));
	//Actividad
	miniAccesos.cambiarHijos("cliente");	
	ocultarCapturas();
	onClick(0,0);
	arrow(0);
	try{
		parent.document.getElementById("esperaBusqueda").style.display="none";
	}catch(err){}
	ocultarCapturas(); 
</script>
		</form>
	</customform>
</body>
</html>